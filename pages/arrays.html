<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arrays</title>

    <!-- FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="../styles/global.css">
    <link rel="stylesheet" href="../styles/code.css">
    <link rel="stylesheet" href="../styles/arrays.css">
    <link rel="stylesheet" href="../styles/examples.css">
    
    <!-- JS -->
    <script src="../scripts/arrays.js"></script>
</head>
<body>
    <!-- TODO(srvariable): Move 'example-x' scripts at the end.-->
    <header>
        <a href="../index.html">Inicio</a>
    </header>
    <main>
        <h1>Arrays</h1>
        <section>
            <h2 id="definicion">Definición</h2>
            <p>Un <strong>array</strong> es una colección de datos del mismo tipo. Para acceder a un dato individual hay que utilizar un <strong>índice</strong>, donde el primer elemento tiene índice <strong>0</strong>.</p>
            <details>
                <summary>Analogía</summary>
                <p>Es un como un tren (array), donde cada vagón tiene un número (índice) y dentro de cada vagón hay un pasajero (dato).</p>
            </details>
            <div class="example-1">
                <script>
                    document.getElementsByClassName('example-1')[0].appendChild( createArrayContainer(["H", "o", "l", "a"]));
                </script>
            </div>
        </section>
        <section>
            <h2 id="declaracion">Declaración</h2>
            <p>Existen dos formas:</p>
<pre>
<code>
<span class="lang-comment">// Corchetes después del tipo de dato</span>
<span class="lang-type">int</span>[] array1;

<span class="lang-comment">// Corchetes después del nombre de la variable</span>
<span class="lang-type">int</span> array2[];
</code>
</pre>
            <p>La primera forma suele ser la más común en Java.</p>
        </section>
        <section>
            <h2 id=creacion>Creación</h2>
            <p>Hay diferentes maneras de crear un array:</p>
<pre>
<code>
<span class="lang-comment">// Reservando espacio en memoria (se rellena con ceros por defecto)</span>
<span class="lang-type">int</span>[] array1 = new <span class="lang-type">int</span>[<span class="lang-number">5</span>];

<span class="lang-comment">// Asignando valores directamente (se calcula la longitud automáticamente)</span>
<span class="lang-type">int</span>[] array2 = {<span class="lang-number">2</span>, <span class="lang-number">0</span>, <span class="lang-number">2</span>, <span class="lang-number">5</span>};
</code>
</pre>
            <div class="example-2">
                <p><small>array1</small></p>
                <script>
                    document.getElementsByClassName('example-2')[0].appendChild(createArrayContainer(["0", "0", "0", "0", "0"]));
                </script>
                <p><small>array2</small></p>
                <script>
                    document.getElementsByClassName('example-2')[0].appendChild(createArrayContainer(["2", "0", "2", "5"]));
                </script>
            </div>
        </section>
        <section>
            <h2 id="acceso">Acceso</h2>
            <p>Para acceder a un elemento concreto del array, solamente hay que <strong>apuntar</strong> a esa posición mediante el <strong>índice</strong>.</p>
<pre>
<code>
<span class="lang-type">int</span>[] array = {<span class="lang-number">6</span>, <span class="lang-number">3</span>, <span class="lang-number">9</span>, <span class="lang-number">6</span>, <span class="lang-number">12</span>};

<span class="lang-type">int</span> primerElemento = array[<span class="lang-number">0</span>]; <span class="lang-comment">// 6</span>
<span class="lang-type">int</span> tercerElemento = array[<span class="lang-number">2</span>]; <span class="lang-comment">// 9</span>
</code>
</pre>
            <div class="example-3">
                <script>
                    document.getElementsByClassName('example-3')[0].appendChild(createArrayContainer(["6", "3", "9", "6", "12"]));
                </script>
            </div>
        </section>
        <section>
            <h2 id="longitud">Longitud</h2>
            <p>Los arrays tienen el atributo <strong>length</strong> que contiene la longitud del array.</p>
<pre>
<code>
<span class="lang-comment">// Length de 5</span>
<span class="lang-type">char</span>[] array = {<span class="lang-char">'H'</span>, <span class="lang-char">'3'</span>, <span class="lang-char">'l'</span>, <span class="lang-char">'l'</span>, <span class="lang-char">'o'</span>};
</code>
</pre>
            <div class="example-4">
                <script>
                    document.getElementsByClassName('example-4')[0].appendChild(createArrayContainer(["'H'", "'3'", "'l'", "'l'", "'0'"]));
                </script>
            </div>
        </section>
        <section>
            <h2 id="recorrido">Recorrido</h2>
            <p>Para recorrer un array, se puede utilizar un bucle <strong>for</strong> o un bucle <strong>for-each</strong>.</p>
<pre>
<code>
<span class="lang-type">int</span>[] array = {<span class="lang-number">1</span>, <span class="lang-number">2</span>, <span class="lang-number">3</span>, <span class="lang-number">4</span>, <span class="lang-number">5</span>};

<span class="lang-comment">// Bucle for</span>
<span class="lang-keyword">for </span>(<span class="lang-type">int</span> i = <span class="lang-number">0</span>; i &lt; array.length; i++) {
    array[i] *= <span class="lang-number">2</span>;
}

<span class="lang-comment">// Bucle for-each</span>
<span class="lang-keyword">for </span>(<span class="lang-type">int</span> elemento : array) {
    System.out.println(elemento);
}
</code>
</pre>
            <div class="example-5-1">
                <p><small>array antes del bucle for</small></p>
                <script>
                    document.getElementsByClassName('example-5-1')[0].appendChild(createArrayContainer(["1", "2", "3", "4", "5"]));
                </script>
                <p><small>array después del bucle for</small></p>
                <script>
                    document.getElementsByClassName('example-5-1')[0].appendChild(createArrayContainer(["2", "4", "6", "8", "10"]));
                </script>
            </div>
            <p>La principal diferencia es que con for-each no es posible reasignar el elemento del array.</p>
<pre>
<code>
<span class="lang-type">int</span>[] array = {<span class="lang-number">1</span>, <span class="lang-number">2</span>, <span class="lang-number">3</span>, <span class="lang-number">4</span>, <span class="lang-number">5</span>};

<span class="lang-comment">// Bucle for-each</span>
<span class="lang-keyword">for </span>(<span class="lang-type">int</span> elemento : array) {
    elemento *= 2;
}

<span class="lang-comment">// Bucle for</span>
<span class="lang-keyword">for </span>(<span class="lang-type">int</span> i = <span class="lang-number">0</span>; i &lt; array.length; i++) {
    System.out.println(array[i]);
}
</code>
</pre>
        <div class="example-5-2">
            <p><small>array antes del bucle for each</small></p>
            <script>
                document.getElementsByClassName('example-5-2')[0].appendChild(createArrayContainer(["1", "2", "3", "4", "5"]));
            </script>
            <p><small>array después del bucle for each</small></p>
            <script>
                document.getElementsByClassName('example-5-2')[0].appendChild(createArrayContainer(["1", "2", "3", "4", "5"]));
            </script>
        </div>
        <!-- TODO(srvariable): Maybe create pages/loops.html to explain more this?-->
        <p>¡Es <strong>importante</strong> tener en cuenta los <strong>límites del array</strong>, porque si se superan habrá <strong>problemas</strong> durante la ejecución!</p>
        <p>
            <em>Es como si un pasajero se saliera del tren mientras está en marcha.</em>
        </p>
        </section>
        <section>
            <h1 id="comparacion">Comparación</h1>
            <p>A la hora de comparar arrays es posible comparar sus contenidos (<strong>equals</strong>) o sus direcciones de memoria (<strong>==</strong>).</p>
<pre>
<code>
<span class="lang-type">int</span>[] array1 = {<span class="lang-number">1</span>, <span class="lang-number">2</span>, <span class="lang-number">3</span>, <span class="lang-number">4</span>, <span class="lang-number">5</span>}; <span class="lang-comment">// Dirección de memoria 0xFFFF0000</span>
<span class="lang-type">int</span>[] array2 = {<span class="lang-number">1</span>, <span class="lang-number">2</span>, <span class="lang-number">3</span>, <span class="lang-number">4</span>, <span class="lang-number">5</span>}; <span class="lang-comment">// Dirección de memoria 0xFFFF0014</span>

<span class="lang-comment">// Se comparan las direcciones de memoria</span>
<span class="lang-type">boolean</span> esIgual = array1 == array2;
</code>
</pre>
            <p>En este ejemplo <span style="font-style: italic;">esIgual</span> sería <span style="font-style: italic;">false</span> porque 0xFFFF0000 no es igual a 0xFFFF0014.</p>
<pre>
<code>
<span class="lang-type">int</span>[] array1 = {<span class="lang-number">1</span>, <span class="lang-number">2</span>, <span class="lang-number">3</span>, <span class="lang-number">4</span>, <span class="lang-number">5</span>}; <span class="lang-comment">// Dirección de memoria 0xFFFF0000</span>
<span class="lang-type">int</span>[] array2 = {<span class="lang-number">1</span>, <span class="lang-number">2</span>, <span class="lang-number">3</span>, <span class="lang-number">4</span>, <span class="lang-number">5</span>}; <span class="lang-comment">// Dirección de memoria 0xFFFF0014</span>

<span class="lang-comment">// Se comparan los contenidos</span>
<span class="lang-type">boolean</span> esIgual = array1.equals(array2);
</code>
</pre>
            <p>En este otro ejemplo <span style="font-style: italic;">esIgual</span> sería <span style="font-style: italic;">true</span> porque todos los elementos en <span style="font-style: italic;">array1</span> y <span style="font-style: italic;">array2</span> son iguales.</p>
            <details>
                <summary>Posible implementación del método equals</summary>
<pre>
<code>
<span class=lang-keyword>public</span> <span class="lang-type">boolean</span> equals(<span class="lang-type">Object</span>[] array1, <span class="lang-type">Object</span>[] array2) {
    <span class="lang-comment">// Se comprueba si las direcciones de memoria son iguales</span>
    <span class="lang-keyword">if</span> (array1 == array2) {
        <span class="lang-keyword">return true</span>;
    }

    <span class="lang-comment">// Se comprueba si algún array es nulo o tienen diferentes longitudes</span>
    <span class="lang-keyword">if</span> (array1 == null || array2 == null
        || array1.length != array2.length)
    {
        <span class="lang-keyword">return false</span>;
    }
    
    <span class="lang-comment">// <span style="background-color: rgb(0, 81, 255); color: white;">NOTA</span>: Las comprobaciones anteriores son <em>optimizaciones</em></span>

    <span class="lang-comment">// Se comprueban los elementos uno por uno</span>
    <span class="lang-keyword">for</span> (<span class="lang-type">int</span> i = <span class="lang-number">0</span>; i &lt; array1.length; i++) {
        <span class="lang-keyword">if</span> (array1[i] != array2[i]) {
            <span class="lang-keyword">return</span> <span class="lang-keyword">false</span>;
        }
    }
    <span class="lang-keyword">return true</span>;
}
</code>
</pre>
            </details>
        </section>
    </main>
    <footer>
        <a href="../index.html">Inicio</a>
    </footer>
</body>
</html>
